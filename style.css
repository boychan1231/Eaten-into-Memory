:root {
    --bg-color: #1a1a2e;
    --text-color: #e0e0e0;
    --accent-color: #e94560;
    --clock-bg: #16213e;
    --card-bg: #0f3460;
    --player-bg: #2a2a40;
    --mirror-border: rgba(255, 255, 255, 0.3);
    --mirror-shine: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 50%, rgba(255,255,255,0.05) 100%);
	/* æ–°å¢ï¼šå®šç¾©éŸ¿æ‡‰å¼å­—é«”å¤§å°åŸºç¤å€¼ */
    --base-font-size: clamp(14px, 1vw, 16px);
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: var(--bg-color);
    color: var(--text-color);
    margin: 0;
    padding: 0;
    height: 100vh;
    overflow: hidden;
	font-size: var(--base-font-size); /* ä½¿ç”¨è®Šæ•¸æ§åˆ¶åŸºç¤å­—é«” */
}

/* --- ç•«é¢çµæ§‹ --- */
.game-wrapper {
	display: flex;
    flex-direction: column;
    height: 100vh;
    max-width: 1500px;
    width: 100%;
    margin: 0 auto;
    padding: 10px;
    box-sizing: border-box;
	overflow-y: auto;        /* å…§å®¹éå¤šæ™‚é¡¯ç¤ºæ»¾è¼ª */
    overflow-x: hidden;
}

/* --- é ‚éƒ¨å€åŸŸ Header --- */
header {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    align-items: center;
    padding: 10px 20px;
    background-color: var(--clock-bg);
    border-radius: 8px;
    margin-bottom: 10px;
    border-bottom: 2px solid var(--accent-color);
    box-shadow: 0 4px 6px rgba(0,0,0,0.3);
}

header h1 { 
    margin: 0; 
    font-size: 1.5rem; 
    text-shadow: 0 0 5px var(--accent-color); 
    grid-column: 2;
    text-align: center;
}

.game-status {
    grid-column: 3;
    justify-self: end;
    text-align: right;
    display: flex;
    align-items: center;
    gap: 10px;
}

/* --- Tab å°èˆª --- */
.tab-nav {
    grid-column: 1 / span 2;
    justify-self: start;
    display: flex;
    gap: 5px;
    margin-bottom: -10px;
    padding-top: 5px;
    z-index: 50;
    position: relative;
    padding-left: 0;
}

.tab-btn {
    background-color: var(--card-bg); 
    color: var(--text-color);
    border: 1px solid var(--clock-bg);
    border-bottom: none;
    padding: 8px 15px;
    font-weight: normal;
    cursor: pointer;
    border-radius: 6px 6px 0 0;
    transition: background-color 0.3s;
}

.tab-btn:hover { background-color: #1f4287; }

.tab-btn.active {
    background-color: var(--bg-color);
    color: var(--accent-color);
    border-top: 2px solid var(--accent-color);
    border-left: 1px solid #333;
    border-right: 1px solid #333;
    font-weight: bold;
    margin-top: -1px;
}

.tab-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
    padding-top: 10px;
    position: relative;
    overflow: hidden;
}

.tab-content {
    display: none;
    width: 100%;
    height: 100%;
    overflow-y: auto;
}

.tab-content.active-tab {
    display: block;
    flex: 1;
}

/* --- æŒ‰éˆ•èˆ‡é–‹é—œ --- */
button {
    background-color: var(--accent-color);
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    transition: background 0.3s;
}
button:hover:not(:disabled) { filter: brightness(1.1); }
button:disabled { background-color: #555; cursor: not-allowed; }

.toggle-switch {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    font-size: 0.9rem;
    color: #ccc;
    user-select: none;
}
.toggle-switch input { display: none; }
.slider {
    position: relative;
    width: 36px;
    height: 20px;
    background-color: #555;
    border-radius: 20px;
    transition: .4s;
}
.slider:before {
    position: absolute;
    content: "";
    height: 14px;
    width: 14px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    border-radius: 50%;
    transition: .4s;
}
input:checked + .slider { background-color: var(--accent-color); }
input:checked + .slider:before { transform: translateX(16px); }

/* --- è¦å‰‡èˆ‡è¨­å®šé  --- */
#rules-content, #settings-content {
    background-color: var(--bg-color);
    padding: 20px;
    border-radius: 8px;
    border: 1px solid #333;
}
.setting-item { margin-bottom: 15px; }

/* --- ä¸»éŠæˆ²å€åŸŸ (é˜é¢ + æ—¥èªŒ) --- */
.main-area {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* è‡ªå‹•å¡«æ»¿åˆ†æ¬„ */
    gap: 15px;
    width: 100%;
}

/* --- é˜é¢å€åŸŸ --- */
.clock-section {
    width: min(500px, 90vw); 
    height: min(500px, 90vw);
    aspect-ratio: 1 / 1;
	margin: 50px auto 20px auto;;
}

#clock-face {
    position: relative;
    width: 100%;
    height: 100%;
	
	/* è¨­å®šèƒŒæ™¯åœ–ç‰‡ */
    /* è«‹å°‡ 'clock-bg.png' æ›æˆä½ çš„æª”å */
    background-image: url('clock-bg.png');
	/* åœ–ç‰‡ç½®ä¸­ */
    background-position: center;
    /* ä¸é‡è¤‡ */
    background-repeat: no-repeat;
	background-color: transparent !important; /* å¼·åˆ¶èƒŒæ™¯é€æ˜ */
	background-size: contain;
}

.clock-center {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: 280px; height: 280px;
    border-radius: 50%;
    background-color: var(--bg-color);
    box-shadow: 0 0 20px rgba(0,0,0,0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px; 
    z-index: 30;
}

/* é˜é¢æ ¼å­ */
.clock-spot {
    position: absolute;
    width: 70px; height: 70px;
    background: transparent;
    background-image: none;
    border: 2px solid rgba(255, 255, 255, 0.15);
    border-radius: 50%;
    box-shadow: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    transform: translate(-50%, -50%);
    transition: all 0.3s;
    backdrop-filter: none;
    z-index: 10;
}

.clock-spot.active-round {
    border-color: var(--accent-color);
    box-shadow: 0 0 10px rgba(233, 69, 96, 0.4);
    transform: translate(-50%, -50%) scale(1.1);
    z-index: 15;
}

.active-round-arrow {
    position: absolute;
    width: 0; height: 0;
    border-left: 15px solid transparent;
    border-right: 15px solid transparent;
    border-top: 25px solid var(--accent-color);
    z-index: 20;
    filter: drop-shadow(0 0 5px var(--accent-color));
    animation: arrowFloat 1s ease-in-out infinite alternate;
    pointer-events: none;
}
@keyframes arrowFloat {
    from { opacity: 0.8; transform: translate(-50%, -50%) rotate(var(--arrow-rotation)) translateY(0); }
    to { opacity: 1; transform: translate(-50%, -50%) rotate(var(--arrow-rotation)) translateY(-10px); }
}

/* é˜é¢ä¸Šå¡ç‰Œé è¦½ */
.clock-spot .card-preview {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 34px; height: 40px;
    padding: 2px 0;
    line-height: 1.0;
    background: rgba(255, 255, 255, 0.9);
    color: #000;
    border-radius: 4px;
    font-weight: bold;
    box-shadow: 0 2px 4px rgba(0,0,0,0.5);
    z-index: 2;
}
.cp-num { font-size: 0.72rem; font-weight: 800; }
.cp-age { font-size: 0.52rem; font-weight: 700; opacity: 0.9; }
.cp-star{ font-size: 0.65rem; font-weight: 900; }

.clock-spot .tokens {
    position: absolute;
    bottom: -5px;
    display: flex;
    justify-content: center;
    width: 100%;
    flex-wrap: wrap;
    gap: -5px;
}
.token {
    width: 14px; height: 14px;
    border-radius: 50%;
    border: 2px solid #fff;
    box-shadow: 0 0 5px rgba(0,0,0,0.8);
    transition: transform 0.2s;
}
.token:hover { transform: scale(1.5); z-index: 20; }

/* é˜é¢ä¸­å¿ƒçš„å°æ™‚å¡ */
.clock-center .drawn-hour-card {
    width: 50px; height: 75px;
    background: linear-gradient(to bottom right, #f7f7f7, #ddd);
    color: #000;
    border-radius: 4px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    font-weight: bold;
    line-height: 1.05;
}
.drawn-hour-card.precious { border: 3px solid gold; box-shadow: 0 0 10px gold; }
.drawn-hour-card .hour-num { font-size: 1.05rem; font-weight: 800; }
.drawn-hour-card .hour-age { font-size: 0.62rem; font-weight: 600; color: #222; margin-top: 2px; }
.drawn-hour-card .hour-star { font-size: 0.9rem; margin-top: 2px; }
.drawn-hour-card.clickable {
    cursor: pointer;
    border: 3px solid #e94560;
    box-shadow: 0 0 15px rgba(233, 69, 96, 1);
    transform: scale(1.05);
}

.hour-choice-tip {
    position: absolute;
    top: 20%; left: 0; width: 100%;
    text-align: center;
    font-size: 1.1rem;
    font-weight: bold;
    color: #ffd27f;
    text-shadow: 0 2px 4px rgba(0,0,0,0.8);
    z-index: 20;
    pointer-events: none;
    animation: tipPulse 1s infinite alternate;
}
@keyframes tipPulse {
    from { opacity: 0.8; transform: translateY(0); }
    to { opacity: 1; transform: translateY(-3px); }
}

/* --- å´é‚Šæ¬„èˆ‡æ—¥èªŒ --- */
.log-section {
    flex: none; 
    width: 100%;
    background-color: var(--player-bg);
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    max-height: 550px;
}
.log-section h3 { padding: 10px; margin: 0; background: #222; border-radius: 8px 8px 0 0; }
#game-log-container {
    flex: 1;
    overflow-y: auto;
    padding: 10px;
    font-size: 0.9rem;
    scrollbar-width: thin;
    scrollbar-color: #444 #222;
}

/* æ—¥èªŒåˆ—è¡¨å®¹å™¨ */
#log-list { 
    list-style: none; 
    padding: 0; 
    margin: 0; 
}

/* å–®æ¢æ—¥èªŒæ¨£å¼ï¼šå¡ç‰‡åŒ–è¨­è¨ˆ */
#log-list li { 
    position: relative;
    margin-bottom: 4px;              /* é …ç›®é–“ä¿ç•™å¾®å°ç©ºéš™ */
    padding: 5px 6px;              /* å¢åŠ å…§è·ï¼Œè®“æ–‡å­—å‘¼å¸ */
    border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* æŸ”å’Œçš„åº•ç·š */
    background-color: rgba(0, 0, 0, 0.2); /* æ·±è‰²èƒŒæ™¯ï¼Œèˆ‡é¢æ¿å€éš” */
    border-left: 4px solid #555;     /* å·¦å´è¦–è¦ºå¼•å°ç·š (ç°è‰²é è¨­) */
    font-size: 0.9rem;
    line-height: 1.5;
    color: #ccc;
    transition: background-color 0.2s; /* æ‡¸åœæ™‚å¹³æ»‘éæ¸¡ */
}

/* æ–‘é¦¬ç´‹æ•ˆæœ (Zebra Striping)ï¼šå€åˆ†å–®é›™è¡Œï¼Œå»ºç«‹é–±è®€ç¯€å¥ */
#log-list li:nth-child(even) {
    background-color: rgba(255, 255, 255, 0.03);
}

/* æœ€æ–°è¨Šæ¯é«˜äº®ï¼šé–å®šæœ€å¾Œä¸€æ¢ï¼Œçµ¦äºˆå¼·çƒˆæç¤º */
#log-list li:last-child {
    border-left-color: var(--accent-color); /* å·¦å´è®Šç´… */
    background: linear-gradient(90deg, rgba(233, 69, 96, 0.15) 0%, rgba(0,0,0,0) 100%); /* ç´…è‰²æ¼¸å±¤å…‰æšˆ */
    color: #fff;
    font-weight: bold;
    border-bottom: none;
}

/* æ»‘é¼ æ‡¸åœè¼”åŠ©ï¼šç•¶æ»‘é¼ æ»‘éæ™‚æ‰“äº®ï¼Œæ–¹ä¾¿å›é ­é–±è®€ */
#log-list li:hover {
    background-color: rgba(255, 255, 255, 0.1);
    border-left-color: #ffd27f; /* é‡‘è‰²å¼•å°ç·š */
    color: #fff;
}




/* å³å´è³‡è¨Šé¢æ¿ç¾¤çµ„ */
.side-panel-group {
    flex: 0 0 320px;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.log-side-info {
    width: 100%;
    background: rgba(15, 52, 96, 0.9);
    border: 2px solid var(--accent-color);
    border-radius: 8px;
    padding: 10px;
    box-shadow: 0 0 10px rgba(233, 69, 96, 0.3);
    box-sizing: border-box;
}

#deck-info {
    height: 120px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: default;
    user-select: none;
}
.deck-title { font-size: 0.8rem; color: #bbb; margin-bottom: 2px; }
.deck-count { font-size: 1.5rem; font-weight: bold; color: white; }

/* å‡ºç‰Œåˆ—è¡¨èˆ‡æ­·å²è¨˜éŒ„ */
#played-cards-panel {
    height: auto;
    min-height: 220px;
    position: sticky; top: 10px; z-index: 2;
}
.panel-switcher {
    display: flex; gap: 5px; margin-bottom: -5px;
}
.switch-btn {
    flex: 1;
    background-color: rgba(15, 52, 96, 0.5);
    border: 1px solid #444;
    color: #aaa;
    font-size: 0.85rem;
    padding: 6px 0;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s;
}
.switch-btn:hover { background-color: rgba(15, 52, 96, 0.8); color: #fff; }
.switch-btn.active {
    background-color: var(--accent-color);
    color: white;
    font-weight: bold;
    box-shadow: 0 0 8px rgba(233, 69, 96, 0.4);
}

#played-cards-list, #player-history-list {
    max-height: 400px;
    overflow: visible;
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 10px;
}
.played-card-row {
    display: flex; justify-content: space-between; align-items: center;
    padding: 8px 5px; border-bottom: 1px solid rgba(255, 255, 255, 0.15);
    font-size: 1.1rem;
}
.p-name {
    flex: 1; font-size: 1.1rem; font-weight: bold; margin-right: 10px;
    white-space: nowrap; overflow: visible;
}
.p-val {
    font-family: 'Courier New', Courier, monospace;
    font-weight: bold; color: #fff;
    background: rgba(0, 0, 0, 0.6);
    font-size: 1.3rem; padding: 4px 12px;
    border-radius: 6px; border: 1px solid #777;
    min-width: 40px; text-align: center;
}
.played-placeholder {
    font-size: 1rem; padding: 15px 5px; text-align: center; opacity: 0.8;
}

/* æ­·å²è¨˜éŒ„å°å…ƒä»¶ */
.player-history-row {
    display: flex; align-items: center; justify-content: space-between; gap: 8px;
    padding: 4px 2px; border-bottom: 1px solid rgba(255,255,255,0.08);
}
.player-history-name {
    min-width: 92px; font-size: 0.9rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.player-history-cards {
    display: grid;
	grid-template-columns: repeat(6, 1fr);
	gap: 4px;
    width: 100%; 
	max-width: 210px; 
	margin-left: auto;
}
.minute-chip {
    width: auto; height: 24px;
    border-radius: 4px;
    display: inline-flex; align-items: center; justify-content: center;
    background: rgba(255,255,255,0.08);
    color: rgba(255,255,255,0.9);
    font-size: 0.85rem; font-weight: bold;
}
.minute-chip.empty { opacity: 0.35; }


/* --- äººé¡ç©å®¶å€åŸŸ (æ•´åˆé‡æ§‹ç‰ˆ) --- */
.human-area {
    display: flex;
    flex-direction: column;
    gap: 15px;
    background-color: #2b1d30; /* æ·±ç´«è‰²èƒŒæ™¯ */
    border-top: 3px solid #6b4c7b;
    padding: 15px 20px;
    margin-top: 10px;
    border-radius: 8px;
    box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.5);
}

/* ä¸Šå±¤ï¼šæ¨™é¡Œèˆ‡æ•¸æ“šåˆ— */
.human-top-bar {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
}
.human-top-bar h4 {
    margin: 0; color: #fff; font-size: 1.1rem; font-weight: bold;
    text-shadow: 0 0 5px rgba(233, 69, 96, 0.5);
}

.human-stats-row {
    display: flex; flex-wrap: wrap; gap: 8px; align-items: center;
}
.human-stats-row div {
    background: #1f1424;
    border: 1px solid #4a3b52;
    border-radius: 4px;
    padding: 5px 12px;
    color: #dccae5; font-size: 0.95rem;
    display: flex; align-items: center; white-space: nowrap;
}
.human-stats-row span {
    color: #ff6b6b; font-weight: bold; margin-left: 6px; font-size: 1.1rem;
}

/* äººé¡ç©å®¶åˆ†é  */
.human-tabs {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.human-tab-nav {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
}

.human-tab-btn {
    background-color: #1f1424;
    color: #dccae5;
    border: 1px solid #4a3b52;
    padding: 6px 14px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
}

.human-tab-btn.active {
    background-color: #2d1a36;
    color: #ffd27f;
    border-color: #6b4c7b;
    box-shadow: 0 0 0 1px rgba(255, 210, 127, 0.3);
}

.human-tab-panel {
    display: none;
}

.human-tab-panel.active {
    display: block;
}

/* ä¸‹å±¤ï¼šéŠæˆ²æ“ä½œå€ (æ©«å‘æ’åˆ—ï¼šå·¦æ‰‹ç‰Œã€å³æ§åˆ¶) */
.human-play-row {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    gap: 20px;
    width: 100%;
}

/* å·¦å´ï¼šæ‰‹ç‰Œå€ */
.hand-display {
    flex: 1; /* è‡ªå‹•å¡«æ»¿ */
    display: flex; 
	flex-wrap: wrap; 
	gap: 8px;
    padding: 5px 0;
	justify-content: flex-end; /* å°‡æ‰‹ç‰Œæ’åˆ—æ–¹å¼æ”¹ç‚ºé å³å°é½Š */
}

/* é€²åŒ–åˆ†é é›™æ¬„ */
.evolution-tab-body {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 12px;
    align-items: start;
}

.evolution-left {
    background: #1f1424;
    border: 1px solid #4a3b52;
    border-radius: 10px;
    padding: 12px;
    height: 220px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.evolution-panel-title {
    font-weight: bold;
    color: #ffd27f;
    text-shadow: 0 0 6px rgba(255, 210, 127, 0.3);
}

.hour-collection-list {
    flex: 1;
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    overflow-y: auto;
    padding-right: 4px;
}

.hour-collection-card {
    min-width: 42px;
    padding: 6px 8px;
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.12);
    text-align: center;
    font-weight: bold;
    color: #fff;
    box-shadow: inset 0 0 6px rgba(0,0,0,0.35);
}

.hour-collection-card.precious {
    border-color: #ffd27f;
    color: #ffd27f;
}

.hour-collection-placeholder {
    opacity: 0.6;
    font-size: 0.9rem;
}

.minute-card {
    width: 55px; height: 80px;
    font-size: 1.3rem; font-weight: 800;
    background-color: #e0e0e0;
    color: #333;
    border: 2px solid #888; border-radius: 6px;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    cursor: pointer; user-select: none;
    box-shadow: 0 4px 0 #666;
    transition: transform 0.1s, background-color 0.2s;
}
.minute-card:hover { transform: translateY(-3px); background-color: #fff; box-shadow: 0 6px 0 #666; }
.minute-card.selected { 
    background-color: #fff; border-color: #e94560;
    transform: translateY(2px); box-shadow: 0 2px 0 #b02a40;
}
.card-gear { font-size: 0.75rem; color: #555; margin-top: 5px; }
.card-gear::after { content: 'âš™'; font-size: 0.7rem; }

/* å³å´ï¼šæ§åˆ¶å€ (å›ºå®šå¯¬åº¦ï¼Œå‚ç›´æ’åˆ—) */
.hand-controls {
    flex: 0 0 280px;
    width: 280px;
    display: flex; flex-direction: column; gap: 10px;
}
.play-control-block {
    display: flex;
    flex-direction: column;
    gap: 10px;
    background: #151019;
    border: 1px solid #4a3b52;
    border-radius: 6px;
    padding: 12px;
}

/* é€²åŒ–é¢æ¿ (é»‘è‰²å€å¡Š) */
#evolution-progress-area, .progress-area {
    background-color: #151019;
    border: 1px solid #4a3b52;
    border-radius: 6px;
    padding: 12px;
    color: #ccc; font-size: 0.85rem;
    display: flex; flex-direction: column; gap: 8px;
}

/* ç›®æ¨™èº«ä»½èˆ‡é¸å–® */
.target-role-header {
    margin-bottom: 5px;
    border-bottom: 1px solid #333;
    padding-bottom: 8px;
}
.target-role-label {
    color: #ffd27f; font-weight: bold; display: block; margin-bottom: 4px;
}
.target-role-select {
    width: 100%; background: #333; color: #fff;
    border: 1px solid #555; padding: 4px; border-radius: 4px;
}
.target-role-hint {
    font-size: 0.75rem; color: #888; float: right; font-weight: normal;
}

/* é€²åŒ–æ¢ä»¶åˆ—è¡¨ */
.condition-row {
    display: flex; align-items: flex-start; gap: 8px;
    line-height: 1.4; color: #aaa; margin-bottom: 6px;
}
.condition-icon {
    flex-shrink: 0; width: 14px; height: 14px;
    background: #c8a2c8; opacity: 0.5; border-radius: 2px; margin-top: 3px;
    display: flex; align-items: center; justify-content: center;
}
.condition-row.met .condition-icon {
    background: #e94560; opacity: 1; box-shadow: 0 0 5px #e94560;
}
.condition-row.met { color: #fff; }

/* æŒ‰éˆ•æ¨£å¼ */
.hand-controls button {
    width: 100%;
    padding: 12px;
    border-radius: 4px;
    border: none;
    font-weight: bold;
    font-size: 1rem;
    cursor: pointer;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}

#confirm-move-btn { background-color: #555; color: #ccc; margin-top: 5px; }
#confirm-move-btn:not(:disabled) { background-color: #4CAF50; color: white; }

#next-step-btn { background-color: #e94560; color: white; }
#next-step-btn:disabled { background-color: #333; color: #666; cursor: not-allowed; }

/* ç§’é‡æŒ‰éˆ• */
#seconds-ability-controls { margin: 5px 0; display: flex; flex-direction: column; gap: 5px; }
#seconds-ability-controls button {
    background: rgba(0,0,0,0.35); border: 1px solid rgba(255,255,255,0.25);
    padding: 8px; font-size: 0.9rem;
}

/* --- å½ˆçª— Overlay --- */
.modal-overlay {
    position: fixed; inset: 0; background: rgba(0,0,0,0.65);
    display: none; align-items: center; justify-content: center; z-index: 9999;
}
.modal {
    position: relative;/* è¨­å®šç›¸å°å®šä½ï¼Œè®“å…§éƒ¨çš„çµ•å°å®šä½æŒ‰éˆ•åƒè€ƒæ­¤æ¡† */
    width: min(420px, calc(100vw - 24px));
    background: rgba(25, 25, 25, 0.98);
    border: 1px solid rgba(255,255,255,0.18);
    border-radius: 14px; padding: 16px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.45);
}

/* å³ä¸Šè§’é—œé–‰æŒ‰éˆ•æ¨£å¼ */
.modal-close-btn {
    position: absolute;
    top: 10px;
    right: 15px;      /* é å³ */
    font-size: 2rem; /* å¤§ä¸€é»çš„ X */
    line-height: 1;
    color: #888;
    cursor: pointer;
    transition: color 0.2s;
    user-select: none;
}

.modal-close-btn:hover {
    color: #ff6b6b; /* æ‡¸åœæ™‚è®Šç´…è‰² */
}

.modal-title { font-size: 1.05rem; font-weight: 700; margin-bottom: 8px; color: #fff; }
.modal-desc { font-size: 0.9rem; opacity: 0.9; margin-bottom: 12px; color: #ddd; }
.modal-actions { display: flex; gap: 10px; }
.modal-actions button {
    flex: 1; padding: 12px 0; border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.25);
    background: rgba(0,0,0,0.35); color: #fff; font-size: 1.1rem; cursor: pointer;
}
.modal-actions button:hover { background: rgba(255,255,255,0.10); }

/* --- AI ç©å®¶å¡ç‰‡ --- */
.players-grid {
    height: 140px;
	display: flex;
    gap: 10px;
    margin-top: 10px;
    overflow-x: auto;
}
.player-card {
    flex: 1; min-width: 180px;
    background-color: var(--card-bg);
    border: 1px solid #444; border-radius: 6px; padding: 10px;
    display: flex; flex-direction: column; position: relative;
}
.player-card.ejected { opacity: 0.5; border: 2px solid red; }
.player-card h4 { margin: 0 0 5px 0; font-size: 1rem; color: #8ec5fc; }

.player-stats {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 6px 10px;
    font-size: 0.85rem;
    line-height: 1.3;
	height: auto; /* è‹¥è¦å›ºå®šé«˜åº¦å¯è¨­ä¾‹å¦‚ 400px */
}

.role-badge { 
    position: absolute; top: 5px; right: 5px; 
    font-size: 0.7rem; background: #444; padding: 2px 5px; border-radius: 4px; 
}

/* éŸ¿æ‡‰å¼èª¿æ•´ */
@media (max-width: 900px) {
    .human-play-row { flex-direction: column; }
    .hand-controls { width: 100%; flex: none; }
}

/* --- æ–°å¢ï¼šå·²æ”¶é›†å°æ™‚å¡ (æ–‡å­—åˆ—è¡¨æ¨£å¼) --- */

/* åˆ—è¡¨å®¹å™¨å¾®èª¿ */
#human-hour-collection {
    display: flex;
    flex-direction: column;
    gap: 4px; /* è¡Œè· */
    padding-top: 5px;
}

/* æ¯ä¸€è¡Œçš„æ¨£å¼ */
.collection-text-row {
    font-size: 0.9rem;
    line-height: 1.4;
    border-bottom: 1px dashed rgba(255, 255, 255, 0.1); /* æ·¡æ·¡çš„åˆ†éš”ç·š */
    padding-bottom: 2px;
}

/* æ¨™ç±¤ (å°‘å¹´/é’å¹´/ä¸­å¹´) */
.col-label {
    color: #aaa;       /* ç°è‰²æ¨™ç±¤ */
    font-weight: normal;
    margin-right: 2px;
}

/* æ•¸å€¼å…§å®¹ */
.col-values {
    color: #fff;       /* äº®ç™½æ•¸å­— */
    font-weight: bold;
    font-family: 'Courier New', monospace; /* ç­‰å¯¬å­—é«”è®“æ•¸å­—æ›´æ¸…æ¥š */
    letter-spacing: 1px;
}
/* --- ç‰ˆé¢èª¿æ•´ï¼šé€²åŒ–é¢æ¿ç§»è‡³æ—¥èªŒå€ --- */

/* 1. èª¿æ•´æ—¥èªŒå€ä½ˆå±€ï¼šè®“æ—¥èªŒåˆ—è¡¨ (flex: 1) è‡ªå‹•ä½”æ“šå‰©é¤˜ç©ºé–“ï¼Œé€²åŒ–é¢æ¿åœ¨åº•éƒ¨å›ºå®š */
.log-section {
    display: flex;
    flex-direction: column;
    /* ç¢ºä¿é«˜åº¦è¶³å¤ å®¹ç´å…©è€…ï¼Œä½†ä¸è¶…éç•«é¢ */
    height: 100%; 
    max-height: 600px; 
}

/* æ—¥èªŒå®¹å™¨ï¼šè‡ªå‹•ä¼¸ç¸®ï¼Œé¡¯ç¤ºæ²è»¸ */
#game-log-container {
    flex: 1; 
    min-height: 100px; /* è‡³å°‘ä¿ç•™ä¸€é»é«˜åº¦çµ¦æ—¥èªŒ */
	max-height: 360px;
    border-bottom: 1px solid #444; /* èˆ‡ä¸‹æ–¹çš„é€²åŒ–é¢æ¿åšå€éš” */
}

/* 2. é€²åŒ–é¢æ¿ (åœ¨æ—¥èªŒå€å…§) çš„å¾®èª¿ */
#evolution-progress-area {
    flex: 0 0 auto; /* é«˜åº¦ç”±å…§å®¹æ±ºå®šï¼Œä¸ä¼¸ç¸® */
    border-radius: 3px;
    font-size: 0.85rem;
}

/* 3. ä¿®å¾©åŸæœ¬çš„é€²åŒ–åˆ†é  (ç¾åœ¨è®Šå¯¬äº†) */
.evolution-tab-body {
    display: block !important; /* è¦†è“‹åŸæœ¬çš„ grid */
}
#human-hour-collection {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}
/* è®“æ–‡å­—åˆ—è¡¨æ©«å‘æ’åˆ—æ›´æ•´é½Š */
.collection-text-row {
    width: 100%;
    padding: 4px 0;
}

/* --- style.css æ–°å¢ï¼šæ—¥èªŒé€æ¢é¡¯ç¤ºå‹•ç•« --- */
.log-entry-new {
    animation: logFadeIn 0.5s ease-out forwards;
    opacity: 0; /* åˆå§‹é€æ˜ï¼Œç”±å‹•ç•«è®Šç‚ºä¸é€æ˜ */
    border-bottom: 1px solid #444;
    padding-bottom: 4px;
    margin-bottom: 6px;
}

@keyframes logFadeIn {
    from {
        opacity: 0;
        transform: translateY(5px); /* å¾ä¸‹æ–¹æ»‘å…¥ */
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* --- æ–°å¢ï¼šé€²åŒ–å¾Œèƒ½åŠ›é¢æ¿æ¨£å¼ --- */
.evo-ability-panel {
    display: flex;
    flex-direction: column;
    gap: 8px;
    text-align: center;
}

.evo-role-title {
    font-size: 1rem;
    font-weight: bold;
    color: #ffd27f;
    border-bottom: 1px solid #444;
    padding-bottom: 5px;
    margin-bottom: 5px;
}

.evo-btn {
    width: 100%;
    padding: 10px;
    border-radius: 6px;
    border: none;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
    color: #000;
    font-size: 0.95rem;
    position: relative;
}
.evo-btn:disabled {
    background-color: #555 !important;
    color: #888 !important;
    cursor: not-allowed;
    box-shadow: none;
}
.evo-btn:active {
    transform: translateY(2px);
}

.evo-desc {
    font-size: 0.8rem;
    color: #aaa;
    margin-top: 2px;
}

/* --- æ–°å¢ï¼šé˜é¢å¡ç‰Œå †ç–ŠæŸ¥çœ‹å™¨ (Stack Inspector) --- */
.stack-inspector {
    display: none; /* é è¨­éš±è— */
    position: absolute;
    bottom: 110%; /* é¡¯ç¤ºåœ¨æ ¼å­ä¸Šæ–¹ */
    left: 50%;
    transform: translateX(-50%);
    background: rgba(20, 25, 40, 0.95);
    border: 1px solid #777;
    border-radius: 6px;
    padding: 8px;
    min-width: 110px;
    z-index: 100; /* ç¢ºä¿æµ®åœ¨æœ€ä¸Šå±¤ */
    box-shadow: 0 4px 15px rgba(0,0,0,0.8);
    pointer-events: none; /* è®“æ»‘é¼ é»æ“Šç©¿é€ï¼Œä¸æœƒæ“‹åˆ°æ“ä½œ */
    text-align: center;
    backdrop-filter: blur(4px);
}

/* ç•¶æ»‘é¼ æ‡¸åœåœ¨é˜é¢æ ¼å­æ™‚é¡¯ç¤º */
.clock-spot:hover .stack-inspector {
    display: flex;
    flex-direction: column;
    animation: popupFadeIn 0.2s ease-out;
}

.stack-title {
    font-size: 0.75rem;
    color: #aaa;
    border-bottom: 1px solid #444;
    padding-bottom: 4px;
    margin-bottom: 4px;
    font-weight: bold;
}

.stack-item {
    font-size: 0.85rem;
    padding: 3px 0;
    color: #ddd;
    border-bottom: 1px dashed rgba(255,255,255,0.1);
    line-height: 1.2;
}
.stack-item:last-child { border-bottom: none; }

/* çè²´å¡ç‰¹åˆ¥æ¨™ç¤º */
.stack-item.precious { 
    color: #ffd27f; 
    font-weight: bold; 
    text-shadow: 0 0 2px orange; 
}
.stack-item .age-tag { 
    font-size: 0.7em; 
    color: #888; 
    margin-left: 2px; 
    vertical-align: middle;
}

@keyframes popupFadeIn {
    from { opacity: 0; transform: translate(-50%, 5px); }
    to { opacity: 1; transform: translate(-50%, 0); }
}

/* --- ä¿®æ­£ï¼šè®“æ»‘é¼ æŒ‡åˆ°çš„æ ¼å­å±¤ç´šæœ€é«˜ï¼Œé¿å…è¦–çª—è¢«é®æ“‹ --- */
.clock-spot:hover {
    z-index: 200 !important; /* å¼·åˆ¶å£“éå…¶ä»–æ ¼å­(10)ã€ä¸­å¿ƒ(30)èˆ‡ç®­é ­(20) */
}

/* --- æ–°å¢ï¼šæ•¸å€¼è®Šå‹•æ¼‚æµ®æ–‡å­— (Floating Text) --- */
@keyframes floatUpFade {
    0% { transform: translateY(0) scale(1); opacity: 1; }
    50% { transform: translateY(-20px) scale(1.2); opacity: 1; }
    100% { transform: translateY(-40px) scale(1); opacity: 0; }
}

.floating-text {
    position: absolute;
    top: 0;
    left: 50%; /* é è¨­ç½®ä¸­ */
    transform: translateX(-50%);
    font-weight: 900;
    font-size: 1.4rem;
    pointer-events: none; /* è®“é»æ“Šç©¿é€ */
    animation: floatUpFade 1.5s ease-out forwards;
    z-index: 999;
    text-shadow: 0 0 3px black, 0 0 5px rgba(0,0,0,0.5);
    white-space: nowrap;
}

/* --- æ–°å¢ï¼šæ•¸å€¼è®Šå‹•æ¼‚æµ®æ–‡å­— (Floating Text) --- */
@keyframes floatUpFade {
    0% { 
        opacity: 1;
        transform: translate(-50%, 0) scale(1); /* -50% æ˜¯ç‚ºäº†æ°´å¹³ç½®ä¸­ */
    }
    50% { 
        opacity: 1;
        transform: translate(-50%, -25px) scale(1.2); 
    }
    100% { 
        opacity: 0;
        transform: translate(-50%, -50px) scale(1); 
    }
}

.floating-text {
    position: fixed; /* âœ… æ”¹ç”¨ fixedï¼Œç„¡è¦–å®¹å™¨é‚Šæ¡†ï¼Œç›´æ¥æµ®åœ¨è¢å¹•æœ€ä¸Šå±¤ */
    top: 0; left: 0;
    pointer-events: none;
    z-index: 9999; /* ç¢ºä¿è“‹éæ‰€æœ‰è¦–çª— */
    font-weight: 900;
    font-size: 1.5rem;
    text-shadow: 2px 2px 0px #000, -1px -1px 0 #000; /* åŠ ä¸Šé»‘é‚Šè®“æ–‡å­—æ›´æ˜é¡¯ */
    white-space: nowrap;
    animation: floatUpFade 1.8s ease-out forwards;
}

/* --- æ–°å¢ï¼šæ™‚ä¹‹æƒ¡ç´¢å‘½ç´…ç·š (SVG) --- */
.connection-lines-svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none; /* è®“é»æ“Šç©¿é€ */
    z-index: 5; /* åœ¨èƒŒæ™¯ä¹‹ä¸Šï¼Œä½†åœ¨å¡ç‰‡/æ•¸å­—ä¹‹ä¸‹ */
    overflow: visible;
}

/* ç´…ç·šæ¨£å¼ */
.sin-line {
    stroke: #ff4757;        /* é®®ç´…è‰² */
    stroke-width: 4;        /* ç·šæ¢ç²—ç´° */
    stroke-dasharray: 10, 10; /* è™›ç·šé–“éš” */
    filter: drop-shadow(0 0 5px #ff4757); /* ç™¼å…‰æ•ˆæœ */
    animation: dashMove 1s linear infinite; /* æµå‹•å‹•ç•« */
    opacity: 0.8;
}

@keyframes dashMove {
    from { stroke-dashoffset: 20; }
    to { stroke-dashoffset: 0; }
}

/* --- æ–°å¢ï¼šé˜²ç¦¦è­·ç›¾ç‰¹æ•ˆ (Suggestion C) --- */
.shield-indicator {
    position: absolute;
    top: -8px;
    left: -8px;
    font-size: 1.6rem;
    filter: drop-shadow(0 0 5px #00d2d3); /* é’è‰²å…‰æšˆ */
    animation: shieldFloat 2s ease-in-out infinite;
    z-index: 25;
    cursor: help;
}

/* äººé¡ç©å®¶å€åŸŸçš„è­·ç›¾ (èª¿æ•´ç‚ºè¡Œå…§é¡¯ç¤º) */
.human-top-bar .shield-indicator {
    position: static;
    display: inline-block;
    vertical-align: middle;
    margin-left: 8px;
    font-size: 1.3rem;
    animation: none; /* äººé¡å€ä¸éœ€è¦æµ®å‹•ï¼Œé¿å…å¹²æ“¾é–±è®€ */
    filter: drop-shadow(0 0 3px #00d2d3);
}

@keyframes shieldFloat {
    0%, 100% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-4px) scale(1.1); }
}

/* style.css */

/* ... (åŸæœ‰ä»£ç¢¼) ... */

/* âœ… æ–°å¢ï¼šå³å´ç©åˆ†æ¦œæ¨£å¼ */
#score-list {
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding-top: 5px;
}

.score-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.9rem;
    padding: 3px 5px;
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.05);
}

/* ç¬¬ä¸€åé«˜äº® */
.score-row.leader {
    background: rgba(255, 210, 127, 0.15);
    border: 1px solid rgba(255, 210, 127, 0.3);
}

.score-name {
    font-weight: bold;
}

.score-val {
    font-family: 'Courier New', monospace;
    font-weight: bold;
    color: #fff;
}

.score-row.leader .score-val {
    color: #ffd27f;
    text-shadow: 0 0 5px rgba(255, 210, 127, 0.5);
}

#deck-info {
    /* ä¿®æ”¹ display ç‚º flex ä»¥æ”¯æ´å·¦å³ä¸¦æ’ */
    display: flex !important; 
    flex-direction: row !important;
    align-items: center;
    justify-content: space-around;
    height: 100px; /*ç¨å¾®èª¿æ•´é«˜åº¦*/
    padding: 5px 0;
}

.info-block {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    flex: 1;
}

.info-divider {
    width: 1px;
    height: 60%;
    background-color: rgba(255, 255, 255, 0.2);
}

/* è®“æ¨™é¡Œå­—ç¨å¾®å°ä¸€é»ä»¥é©æ‡‰ä¸¦æ’ */
#deck-info .deck-title {
    font-size: 0.75rem;
    margin-bottom: 5px;
}

/* è®“æ•¸å­—å¤§ä¸€é» */
#deck-info .deck-count {
    font-size: 1.3rem;
	font-weight: bold;
    color: white;
    white-space: nowrap; /* ç¢ºä¿ä¸æ›è¡Œ */
}

/* âœ… æ–°å¢ï¼šé˜é¢åº•åœ–æ¨£å¼ */
.clock-bg-img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: contain; /* ä¿æŒåœ–ç‰‡æ¯”ä¾‹ */
    z-index: 0;          /* âœ… é‡é»ï¼šè¨­ç‚º 0ï¼Œç¢ºä¿åœ¨ç´…ç·š(5)å’Œæ ¼å­(10)ä¹‹ä¸‹ */
    opacity: 0.8;        /* å¯é¸ï¼šèª¿æ•´é€æ˜åº¦è®“ä¸Šé¢çš„å…ƒä»¶æ›´æ¸…æ¥š */
}

/* --- 1. å…¨åŸŸèƒŒæ™¯ç´‹ç† --- */
body {
    /* åŸæœ¬çš„åº•è‰² */
    background-color: var(--bg-color);
    
    /* CSS ç¹ªè£½çš„å¾®å¼±ç¶²æ ¼åœ– */
    background-image: 
        linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
    
    /* ç¶²æ ¼å¤§å° */
    background-size: 30px 30px;
    
    /* è®“èƒŒæ™¯ç¨å¾®æš—ä¸€é»ï¼Œçªé¡¯å‰æ™¯ */
    background-blend-mode: overlay;
}

/* --- 2. é˜é¢ä¸­å¿ƒï¼šèƒ½é‡æ ¸å¿ƒ (Magic Core) --- */
.clock-center {
    /* æ·±é‚ƒçš„ä¸­å¿ƒåº•è‰² */
    background-color: #0f0c15; 
    
    /* å¤šå±¤æ¼¸å±¤æ¨¡æ“¬é­”æ³•é™£ */
    background-image: 
        /* æœ€å…§å±¤çš„äº®å…‰ */
        radial-gradient(circle, rgba(233, 69, 96, 0.8) 0%, transparent 40%),
        /* å…§åœˆç’° */
        radial-gradient(circle, transparent 45%, var(--accent-color) 46%, transparent 47%),
        /* å¤–åœˆç’° */
        radial-gradient(circle, transparent 55%, #ffd27f 56%, transparent 57%),
        /* æ—‹è½‰çš„å…‰æšˆæ„Ÿ */
        conic-gradient(from 0deg, transparent 0%, rgba(233, 69, 96, 0.1) 25%, transparent 50%, rgba(255, 210, 127, 0.1) 75%, transparent 100%);
    
    border: 2px solid #333;
    box-shadow: 0 0 30px rgba(233, 69, 96, 0.2); /* å¢åŠ å¤–ç™¼å…‰ */
}

/* --- 3. åˆ†é˜å¡ï¼šé‡‘å±¬ç´‹ç† --- */
.minute-card {
    /* éŠ€ç°è‰²é‡‘å±¬è³ªæ„Ÿ */
    background-color: #dcdcdc;
    
    /* æ–œå‘ç´‹ç† */
    background-image: repeating-linear-gradient(
        45deg,
        rgba(0, 0, 0, 0.05) 0px,
        rgba(0, 0, 0, 0.05) 2px,
        transparent 2px,
        transparent 5px
    );
    border-color: #999;
}

/* çè²´å°æ™‚å¡ï¼šé»ƒé‡‘è³ªæ„Ÿ */
.drawn-hour-card.precious, .stack-item.precious {
    /* é‡‘è‰²æ¼¸å±¤åº• */
    background: linear-gradient(135deg, #ffd700 0%, #ffec8b 50%, #d4af37 100%);
    color: #4a3b00; /* æ·±è‰²æ–‡å­—è®“é–±è®€æ›´æ¸…æ¥š */
    border: 2px solid #fff;
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.6);
}

/* --- 4. è³‡æºåœ–ç¤º CSS ç¹ªè£½ --- */

/* é½’è¼ª (Gear) æ›¿ä»£åœ–ç¤º */
.icon-gear-css {
    display: inline-block;
    width: 16px; height: 16px;
    background: #ccc;
    border-radius: 50%;
    border: 2px dashed #555; /* è™›ç·šé‚Šæ¡†æ¨¡æ“¬é½’è¼ª */
    vertical-align: middle;
    margin-right: 4px;
    box-shadow: 0 0 2px #fff;
}

/* è­·ç›¾ (Shield) æ›¿ä»£åœ–ç¤º */
.icon-shield-css {
    display: inline-block;
    width: 14px; height: 16px;
    background: linear-gradient(to bottom, #00d2d3, #008c8c);
    border-radius: 0 0 50% 50%; /* ä¸‹åŠåœ“æ¨¡æ“¬ç›¾ç‰Œ */
    border-top: 2px solid #fff;
    vertical-align: middle;
    margin-right: 4px;
}

/* Mana (Energy) æ›¿ä»£åœ–ç¤º */
.icon-mana-css {
    display: inline-block;
    width: 14px; height: 14px;
    background: radial-gradient(circle, #ff9ff3 30%, #f368e0 90%);
    border-radius: 50%;
    box-shadow: 0 0 5px #f368e0;
    vertical-align: middle;
    margin-right: 4px;
}

/* --- 5. è§’è‰²é ­åƒ Placeholder --- */

/* åŸºç¤é ­åƒåœ“æ¡† */
.avatar-circle {
    width: 40px; height: 40px;
    border-radius: 50%;
    border: 2px solid rgba(255,255,255,0.3);
    margin-right: 10px;
    display: inline-block;
    vertical-align: middle;
    background-size: cover;
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
}

/* æ™‚é­” (Time Demon) - ç´…é»‘æ¼¸å±¤ */
.avatar-demon {
    background: radial-gradient(circle at 30% 30%, #ff6b6b, #550000);
}

/* æ™‚ä¹‹æƒ¡ (Sin) - é‡‘ç´«æ¼©æ¸¦ */
.avatar-sin {
    background: conic-gradient(#feca57, #6a0572, #feca57);
}

/* å—è©›è€… (Cursed) - è—ç°é™°é¬± */
.avatar-scz {
    background: linear-gradient(180deg, #54a0ff 0%, #222 100%);
}

/* é€²åŒ–å¾Œï¼šæ™‚é‡/åˆ†é‡/ç§’é‡ - å°æ‡‰éœ“è™¹è‰² */
.avatar-evo-hour { background: radial-gradient(circle, #ff9ff3, #550055); }
.avatar-evo-min  { background: radial-gradient(circle, #f368e0, #440044); }
.avatar-evo-sec  { background: radial-gradient(circle, #00d2d3, #004444); }

/* style.css */

/* å°åœ–ç¤ºæŒ‰éˆ• (æ”¾å¤§é¡) */
.icon-btn {
    background: transparent;
    border: 1px solid #666;
    color: #ccc;
    border-radius: 4px;
    cursor: pointer;
    padding: 2px 6px;
    font-size: 0.9rem;
    margin-left: 8px;
    transition: all 0.2s;
}
.icon-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    color: #fff;
    border-color: #999;
}

/* èª¿æ•´å½ˆçª—å…§çš„æ”¶é›†åˆ—è¡¨æ¨£å¼ */
#collection-overlay .hour-collection-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 10px;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 6px;
}

/* è®“åˆ—è¡¨æ–‡å­—å¤§ä¸€é»ï¼Œæ¯”è¼ƒå¥½é–±è®€ */
#collection-overlay .collection-text-row {
    font-size: 1.1rem; 
    border-bottom: 1px solid rgba(255,255,255,0.1);
    padding: 8px 0;
}

/* style.css */

/* éŠæˆ²çµæŸé¢æ¿æ¨£å¼ */
.ranking-header {
    display: grid;
    grid-template-columns: 50px 1fr 80px 60px;
    padding: 8px 10px;
    background: rgba(255, 255, 255, 0.1);
    font-weight: bold;
    color: #aaa;
    border-radius: 4px 4px 0 0;
    margin-bottom: 2px;
}

.ranking-list {
    max-height: 300px;
    overflow-y: auto;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 0 0 4px 4px;
}

.rank-row {
    display: grid;
    grid-template-columns: 50px 1fr 80px 60px;
    align-items: center;
    padding: 10px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    font-size: 1rem;
}

/* å† è» (é‡‘) */
.rank-row.rank-1 {
    background: linear-gradient(90deg, rgba(255, 215, 0, 0.2), transparent);
    border-left: 4px solid gold;
    color: #ffd700;
    font-weight: bold;
}
/* äºè» (éŠ€) */
.rank-row.rank-2 {
    background: linear-gradient(90deg, rgba(192, 192, 192, 0.15), transparent);
    border-left: 4px solid silver;
    color: #e0e0e0;
}
/* å­£è» (éŠ…) */
.rank-row.rank-3 {
    background: linear-gradient(90deg, rgba(205, 127, 50, 0.15), transparent);
    border-left: 4px solid #cd7f32;
    color: #cd7f32;
}

/* è¢«é€å‡ºè€… */
.rank-row.dead {
    opacity: 0.5;
    text-decoration: line-through;
    filter: grayscale(1);
}

.rank-medal { font-size: 1.2rem; }

/* --- style.css åº•éƒ¨æ–°å¢ --- */

/* åŸºç¤éœ‡å‹•å‹•ç•« */
@keyframes shake-effect {
    0% { transform: translate(1px, 1px) rotate(0deg); }
    10% { transform: translate(-1px, -2px) rotate(-1deg); }
    20% { transform: translate(-3px, 0px) rotate(1deg); }
    30% { transform: translate(3px, 2px) rotate(0deg); }
    40% { transform: translate(1px, -1px) rotate(1deg); }
    50% { transform: translate(-1px, 2px) rotate(-1deg); }
    60% { transform: translate(-3px, 1px) rotate(0deg); }
    70% { transform: translate(3px, 1px) rotate(-1deg); }
    80% { transform: translate(-1px, -1px) rotate(1deg); }
    90% { transform: translate(1px, 2px) rotate(0deg); }
    100% { transform: translate(1px, -2px) rotate(-1deg); }
}

/* é£„æµ®æ–‡å­—å‹•ç•« */
@keyframes float-up-fade {
    0% { transform: translate(-50%, -50%) translateY(0) scale(1); opacity: 1; }
    50% { transform: translate(-50%, -50%) translateY(-25px) scale(1.2); opacity: 1; }
    100% { transform: translate(-50%, -50%) translateY(-50px) scale(1); opacity: 0; }
}

/* ğŸ”µ å—è©›è€…ï¼šå¹½å†¥ç ´ç¢ç‰¹æ•ˆ (è—å…‰) */
.effect-shield-hit-scz {
    animation: shake-effect 0.5s cubic-bezier(.36,.07,.19,.97) both;
    box-shadow: 0 0 15px 5px rgba(84, 160, 255, 0.8) !important;
    border-color: #54a0ff !important;
    position: relative;
}

/* ğŸ”´ æ™‚ä¹‹æƒ¡ï¼šæ··æ²Œéœ‡æ“Šç‰¹æ•ˆ (ç´…å…‰) */
.effect-shield-hit-sin {
    animation: shake-effect 0.5s cubic-bezier(.36,.07,.19,.97) both;
    box-shadow: 0 0 15px 5px rgba(255, 107, 107, 0.8) !important;
    border-color: #ff6b6b !important;
    position: relative;
}

/* é£„æµ®çš„æ‰£é™¤æ•¸å€¼æ–‡å­— */
.floating-shield-loss {
    position: absolute;
    top: 50%;
    left: 50%;
    font-size: 2.5rem;
    font-weight: 900;
    color: #fff;
    text-shadow: 2px 2px 0 #000, -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000;
    pointer-events: none;
    animation: float-up-fade 1.5s ease-out forwards;
    z-index: 999;
    white-space: nowrap;
}